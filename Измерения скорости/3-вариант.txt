Как вариант 2, но с pypy


Отправляли 10000 запросов в 1 потоков
потрачено времени 21.416413068771362 сек
общая скорость отправки - 466.9315990445495 запросов в секунду
скорость в одном потоке - 466.9315990445495 запросов в секунду

Отправляли 10000 запросов в 3 потоков
потрачено времени 8.890357494354248 сек
общая скорость отправки - 1124.8141603248712 запросов в секунду
скорость в одном потоке - 374.9380534416237 запросов в секунду

Отправляли 10000 запросов в 5 потоков
потрачено времени 6.876586675643921 сек
общая скорость отправки - 1454.2098386426 запросов в секунду
скорость в одном потоке - 290.84196772852 запросов в секунду

Отправляли 10000 запросов в 7 потоков
потрачено времени 6.5727458000183105 сек
общая скорость отправки - 1521.4341622601837 запросов в секунду
скорость в одном потоке - 217.34773746574052 запросов в секунду



Отправляли 10000 запросов в 10 потоков
потрачено времени 6.377363681793213 сек
общая скорость отправки - 1568.0460608745086 запросов в секунду
скорость в одном потоке - 156.80460608745085 запросов в секунду

Отправляли 10000 запросов в 12 потоков
потрачено времени 6.473313570022583 сек
общая скорость отправки - 1544.8038924468653 запросов в секунду
скорость в одном потоке - 128.73365770390544 запросов в секунду


Отправляли 10000 запросов в 15 потоков
потрачено времени 6.476376533508301 сек
общая скорость отправки - 1544.0732866998587 запросов в секунду
скорость в одном потоке - 102.93821911332391 запросов в секунду

Отправляли 10000 запросов в 20 потоков
потрачено времени 6.482510805130005 сек
общая скорость отправки - 1542.612160721181 запросов в секунду
скорость в одном потоке - 77.13060803605904 запросов в секунду

Отправляли 10000 запросов в 25 потоков
потрачено времени 6.586244583129883 сек
общая скорость отправки - 1518.3159194564635 запросов в секунду
скорость в одном потоке - 60.73263677825854 запросов в секунду